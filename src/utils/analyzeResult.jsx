export const deepInsights = {
  heart: {
    article: `คุณเป็นคนที่ใช้ความรู้สึกและความสัมพันธ์เป็นเข็มทิศของชีวิต การได้มีความหมายกับใครสักคนทำให้คุณรู้สึกว่าการมีอยู่ของตัวเองมีคุณค่า คุณเข้าใจคนอื่นเก่ง และมักเก็บความรู้สึกตัวเองไว้ก่อนเสมอ เวลาถูกกระทบ คุณจะพยายามเข้าใจอีกฝ่าย ทั้งที่ลึก ๆ ตัวเองก็เจ็บไม่แพ้กัน แผลลึกในใจของคุณมักเกี่ยวกับความรู้สึกว่า “ฉันมีค่าพอไหม” หรือเคยให้มากเกินไปจนลืมดูแลตัวเอง ทำให้บางครั้งคุณพยายามเป็นคนที่ดีพอสำหรับทุกคนจนเหนื่อย เวลาคุณเครียด คุณจะยิ่งให้ ยิ่งอดทน และยิ่งพยายามเข้าใจคนอื่น ราวกับกลัวว่าถ้าไม่ทำแบบนี้ คุณจะไม่สำคัญพอ การเติบโตของคุณเริ่มจากการหันกลับมาถามตัวเองว่า “ฉันต้องการอะไร” และยอมให้ตัวเองมีความต้องการนั้นได้โดยไม่รู้สึกผิด`,
    weaknessMap: ["ลืมดูแลความต้องการของตัวเอง", "แบกรับอารมณ์คนอื่นมากเกินไป"],
  },

  growth: {
    article: `คุณเป็นคนที่ขับเคลื่อนชีวิตด้วยการพัฒนาและการไปให้ไกลกว่าเดิม ความสำเร็จคือหลักฐานที่ทำให้คุณรู้สึกว่าตัวเองมีตัวตนและมีคุณค่า คุณมักกดดันตัวเองเงียบ ๆ และไม่ค่อยพอใจกับสิ่งที่ทำได้ แม้คนอื่นจะมองว่าคุณเก่งแล้วก็ตาม ลึก ๆ คุณกลัวการเป็นคนธรรมดาที่ไม่มีความหมาย เวลาคุณรู้สึกไม่พอ คุณจะผลักดันตัวเองหนักขึ้น แทนที่จะหยุดพัก ทำให้เหนื่อยโดยไม่ทันรู้ตัว สิ่งที่หัวใจคุณต้องการจริง ๆ คือการได้รับการยอมรับ แม้ในวันที่คุณยังไปไม่ถึงเป้าหมาย การเติบโตของคุณเริ่มจากการยอมรับว่าคุณมีค่าอยู่แล้ว แม้ในวันที่ยังไม่ประสบความสำเร็จอย่างที่หวัง`,
    weaknessMap: ["กดดันตัวเองจนเหนื่อยล้า", "รู้สึกว่าตัวเองยังไม่ดีพอเสมอ"],
  },

  survival: {
    article: `คุณเป็นคนที่ใช้ความเข้มแข็งและความอดทนเป็นเกราะป้องกันตัวเอง เพราะชีวิตในบางช่วงเคยบังคับให้คุณต้อง “ไหว” แม้ไม่มีใครช่วย คุณมักเก็บทุกอย่างไว้คนเดียว ไม่ค่อยขอความช่วยเหลือ และชินกับการเป็นคนที่รับมือได้เสมอ แม้ข้างในจะเหนื่อยมากก็ตาม แผลลึกของคุณเกี่ยวข้องกับช่วงเวลาที่คุณต้องโตเกินวัย หรือไม่มีพื้นที่ปลอดภัยพอให้แสดงความอ่อนแอ เวลาคุณเครียด คุณจะยิ่งปิดใจ และพยายามจัดการทุกอย่างลำพัง ทำให้ยิ่งรู้สึกโดดเดี่ยว การเติบโตของคุณเริ่มจากการยอมให้ตัวเองอ่อนแอได้ และเปิดพื้นที่ให้คนอื่นเข้ามาช่วยคุณบ้าง`,
    weaknessMap: ["เก็บทุกอย่างไว้คนเดียว", "ไม่ขอความช่วยเหลือแม้ตอนที่ควร"],
  },
};

export const answerWeights = {
  A: { emotion: 2, connection: 1 },
  B: { logic: 2, achievement: 1 },
  C: { security: 2, emotion: 1 },
  D: { freedom: 2, logic: 1 },
  E: { connection: 2, emotion: 1 },
  F: { achievement: 2, security: 1 },
};

export const psycheLayers = {
  heart: {
    coreFear: "กลัวการไม่มีคุณค่าสำหรับใครเลย",
    hiddenNeed: "ต้องการถูกรักโดยไม่ต้องพยายามตลอดเวลา",
    stressPattern: "จะให้มากขึ้น พยายามมากขึ้น จนลืมตัวเอง",
  },
  growth: {
    coreFear: "กลัวว่าชีวิตจะธรรมดาและไม่มีความหมาย",
    hiddenNeed: "ต้องการการยอมรับโดยไม่ต้องพิสูจน์ตลอดเวลา",
    stressPattern: "จะทำงานหนักขึ้น กดดันตัวเองมากขึ้น",
  },
  survival: {
    coreFear: "กลัวการพังทลายทางอารมณ์หรือชีวิต",
    hiddenNeed: "ต้องการพื้นที่ปลอดภัยที่ไม่ต้องเข้มแข็ง",
    stressPattern: "จะปิดใจ เก็บทุกอย่างไว้คนเดียว",
  },
};

export function analyzeResult(answers) {
  const scores = {
    heart: 0,
    growth: 0,
    survival: 0,
  };

  answers.forEach((trait) => {
    if (scores[trait] !== undefined) {
      scores[trait] += 1;
    }
  });

  const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
  const primary = sorted[0][0];

  const profiles = {
    heart: {
      group: "heart",
      title: "ผู้ใช้หัวใจเป็นเข็มทิศชีวิต",
      article:
        "คุณเป็นคนที่ให้ค่ากับความสัมพันธ์ ความรู้สึก และความหมายของการมีใครสักคนอยู่ในชีวิต คุณมักคิดถึงคนอื่นก่อนตัวเอง และพยายามเป็นพื้นที่ปลอดภัยให้คนรอบข้างเสมอ",
      coreFear: "กลัวการไม่มีคุณค่าสำหรับใครเลย",
      hiddenNeed: "อยากได้รับความรักโดยไม่ต้องพยายามตลอดเวลา",
      stressPattern: "ยิ่งเครียดยิ่งให้ ยิ่งพยายามดูแลคนอื่นจนลืมตัวเอง",
    },
    growth: {
      group: "growth",
      title: "ผู้ขับเคลื่อนชีวิตด้วยการเติบโต",
      article:
        "คุณเป็นคนที่อยากพัฒนาตัวเองเสมอ ไม่อยากหยุดอยู่ที่เดิม ความสำเร็จและการก้าวไปข้างหน้าทำให้คุณรู้สึกว่าชีวิตมีความหมาย",
      coreFear: "กลัวว่าชีวิตจะธรรมดาและไม่มีความหมาย",
      hiddenNeed: "ต้องการการยอมรับแม้ในวันที่ยังไปไม่ถึงเป้าหมาย",
      stressPattern: "จะกดดันตัวเอง ทำงานหนักขึ้น และพักน้อยลง",
    },
    survival: {
      group: "survival",
      title: "ผู้แข็งแรงเพื่อเอาตัวรอดมาตลอด",
      article:
        "คุณเป็นคนที่อดทนและเข้มแข็ง เพราะชีวิตเคยสอนให้คุณต้องรับมือหลายอย่างด้วยตัวเอง คุณไม่ค่อยขอความช่วยเหลือ และมักเก็บทุกอย่างไว้ข้างใน",
      coreFear: "กลัวชีวิตพังหรือควบคุมไม่ได้",
      hiddenNeed: "ต้องการพื้นที่ปลอดภัยที่ไม่ต้องเข้มแข็งตลอดเวลา",
      stressPattern: "จะปิดใจ เก็บทุกอย่างไว้คนเดียว และพยายามรับมือเอง",
    },
  };

  return {
    ...profiles[primary],
    scores,
  };
}
